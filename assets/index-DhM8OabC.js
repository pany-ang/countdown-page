import{f as g,r as u,g as v,h as a,i as p,v as m,t as _,j as x,o as f}from"./vue-3Hdvrmds.js";import{_ as C}from"./index-Dh4Cgr0G.js";const N={class:"container"},V={class:"content"},I={class:"input-group"},S=["disabled"],k=["disabled"],A={key:0,class:"error-message"},B={class:"buttons"},U=["disabled"],D=["disabled"],M={class:"countdown-display"},R=g({__name:"index",setup(j){const d="speechSynthesis"in window,c=u(""),o=u(""),s=u(0),i=u(null),l=u(!1),r=u("");function h(){const e=Number(o.value);Number.isNaN(e)||e<1||e>3600?(o.value="",r.value="请输入 1 到 3600 之间的数字"):r.value=""}function b(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator();t.type="triangle",t.frequency.setValueAtTime(800,e.currentTime),t.connect(e.destination);const n=e.createGain();n.gain.setValueAtTime(0,e.currentTime),n.gain.linearRampToValueAtTime(.3,e.currentTime+.05),n.gain.linearRampToValueAtTime(0,e.currentTime+.2),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.2)}function w(){const e=new SpeechSynthesisUtterance(c.value||"叮");e.lang="zh-CN",e.pitch=1,e.rate=1,e.volume=1,speechSynthesis.speak(e)}function T(){const e=Number.parseInt(o.value,10);e<=0||(s.value=e,l.value=!0,i.value&&clearInterval(i.value),i.value=setInterval(()=>{s.value>1?s.value--:(d?w():b(),s.value=Number.parseInt(o.value,10))},1e3))}function y(){i.value&&clearInterval(i.value),s.value=0,c.value="",o.value="",l.value=!1}return(e,t)=>(f(),v("div",N,[a("div",V,[a("div",I,[p(a("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>o.value=n),type:"number",placeholder:"倒计时起始数字",onInput:h,disabled:l.value},null,40,S),[[m,o.value]]),p(a("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>c.value=n),type:"text",placeholder:"语音文案, 默认叮",disabled:l.value&&d},null,8,k),[[m,c.value]]),r.value?(f(),v("div",A,_(r.value),1)):x("",!0)]),a("div",B,[a("button",{onClick:T,disabled:l.value||!o.value}," 开始倒计时 ",8,U),a("button",{onClick:y,disabled:!l.value}," 暂停 ",8,D)]),a("div",M,[a("p",null,_(s.value)+" 秒",1)])])]))}}),E=C(R,[["__scopeId","data-v-d2652149"]]);export{E as default};
